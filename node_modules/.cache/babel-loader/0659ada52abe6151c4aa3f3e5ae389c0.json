{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work\\\\sharepro\\\\frontend\\\\src\\\\components\\\\DownloadPage\\\\DownloadPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\"; //Components\n\nimport Security from \"../Security\";\nimport Status from \"../Status\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DownloadPage = () => {\n  _s();\n\n  const location = useLocation().search;\n  const querry = location.split(\"=\")[1];\n  const apiUrl = \"http://localhost:4000/api/check_id\";\n  const [status, setStatus] = useState(\"loading\");\n\n  const checkId = () => {\n    let response = \"\";\n    axios.patch(apiUrl, {\n      id: querry\n    }).then(r => r.data ? response = \"ok\" : response = \"error\").catch(e => e.response ? response = \"error\" : response = \"ok\");\n    return response;\n  };\n\n  const checkQuerry = () => {\n    if (typeof querry === \"undefined\") {\n      setStatus(\"notFound\");\n    } else if (checkId() === \"ok\") {\n      setStatus(\"\");\n    } else {\n      setStatus(\"failure\");\n    }\n  };\n\n  useEffect(() => {\n    checkQuerry();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"download-page-section\",\n    children: [/*#__PURE__*/_jsxDEV(Status, {\n      status: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Security, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DownloadPage, \"vlk7jo8rdinKLBffdaefYsNWSVc=\", false, function () {\n  return [useLocation];\n});\n\n_c = DownloadPage;\nexport default DownloadPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DownloadPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","axios","Security","Status","DownloadPage","location","search","querry","split","apiUrl","status","setStatus","checkId","response","patch","id","then","r","data","catch","e","checkQuerry"],"sources":["E:/Work/sharepro/frontend/src/components/DownloadPage/DownloadPage.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n//Components\r\nimport Security from \"../Security\";\r\nimport Status from \"../Status\";\r\n\r\n\r\n\r\nconst DownloadPage = ()=>{\r\n    const location  = useLocation().search;\r\n    const querry = location.split(\"=\")[1];\r\n    const apiUrl = \"http://localhost:4000/api/check_id\";\r\n\r\n    const [status, setStatus] = useState(\"loading\");\r\n\r\n    const checkId = ()=>{\r\n        let response = \"\";\r\n        axios.patch(apiUrl, {id: querry})\r\n        .then(r => r.data ? response = \"ok\" : response = \"error\")\r\n        .catch (e => e.response ? response = \"error\" : response = \"ok\");\r\n\r\n        return response;\r\n    }\r\n\r\n    const checkQuerry = ()=>{\r\n        if(typeof querry === \"undefined\"){\r\n            setStatus(\"notFound\")\r\n        }else if(checkId() === \"ok\"){\r\n            setStatus(\"\");\r\n        }else {\r\n            setStatus(\"failure\");\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        checkQuerry();\r\n    }, []);\r\n\r\n    return(\r\n        <section className=\"download-page-section\">\r\n            <Status status={status} />\r\n            <Security />\r\n        </section>\r\n    );\r\n};\r\n\r\n\r\nexport default DownloadPage;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;AAIA,MAAMC,YAAY,GAAG,MAAI;EAAA;;EACrB,MAAMC,QAAQ,GAAIL,WAAW,GAAGM,MAAhC;EACA,MAAMC,MAAM,GAAGF,QAAQ,CAACG,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAf;EACA,MAAMC,MAAM,GAAG,oCAAf;EAEA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,SAAD,CAApC;;EAEA,MAAMc,OAAO,GAAG,MAAI;IAChB,IAAIC,QAAQ,GAAG,EAAf;IACAZ,KAAK,CAACa,KAAN,CAAYL,MAAZ,EAAoB;MAACM,EAAE,EAAER;IAAL,CAApB,EACCS,IADD,CACMC,CAAC,IAAIA,CAAC,CAACC,IAAF,GAASL,QAAQ,GAAG,IAApB,GAA2BA,QAAQ,GAAG,OADjD,EAECM,KAFD,CAEQC,CAAC,IAAIA,CAAC,CAACP,QAAF,GAAaA,QAAQ,GAAG,OAAxB,GAAkCA,QAAQ,GAAG,IAF1D;IAIA,OAAOA,QAAP;EACH,CAPD;;EASA,MAAMQ,WAAW,GAAG,MAAI;IACpB,IAAG,OAAOd,MAAP,KAAkB,WAArB,EAAiC;MAC7BI,SAAS,CAAC,UAAD,CAAT;IACH,CAFD,MAEM,IAAGC,OAAO,OAAO,IAAjB,EAAsB;MACxBD,SAAS,CAAC,EAAD,CAAT;IACH,CAFK,MAEA;MACFA,SAAS,CAAC,SAAD,CAAT;IACH;EACJ,CARD;;EAUAZ,SAAS,CAAC,MAAI;IACVsB,WAAW;EACd,CAFQ,EAEN,EAFM,CAAT;EAIA,oBACI;IAAS,SAAS,EAAC,uBAAnB;IAAA,wBACI,QAAC,MAAD;MAAQ,MAAM,EAAEX;IAAhB;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI,QAAC,QAAD;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH,CApCD;;GAAMN,Y;UACgBJ,W;;;KADhBI,Y;AAuCN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}